<p id="notice"><%= notice %></p>

<h1>Recipes <%= link_to 'New Recipe', new_recipe_path, class: 'btn btn-success float-end' %></h1>


<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>Image</th>
      <th>Name</th>
      <th>Description</th>
      <th>Featured</th>
      <th>Ingredients</th>
      <th>Steps</th>
      <th>Submit date</th>
      <th>Category</th>
      <th>Recipe type</th>
      <!-- <th>Author</th> -->
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @recipes.each do |recipe| %>
      <tr>
        <td><%= image_tag recipe.image_url, class: 'img-thumbnail' %></td>
        <td>
          <%= recipe.name %><br>
          <strong><small>Por: <%= recipe.author.last_name %>,<%= recipe.author.first_name %></small></strong>
        </td>
        <td><%= recipe.description %></td>
        <td><%= recipe.featured %></td>
        <!-- EL METODO TRUNCATE LO USÃ‰ PARA NO LISTAR TANTO TEXTO POR CELDA (CORTA A LOS 10 CARACTERES) -->
        <td><%= recipe.ingredients.truncate(10) %></td>
        <td><%= recipe.steps.truncate(10) %></td>
        <td><%= recipe.submit_date %></td>
        <td><%= recipe.category.name %></td>
        <td><%= recipe.recipe_type.name %></td>
        <!-- <td><%#= recipe.author_id %></td> -->
        <td><%= link_to 'Show', recipe, class: 'btn btn-sm btn-primary' %></td>
        <td><%= link_to 'Edit', edit_recipe_path(recipe), class: 'btn btn-sm btn-secondary' %></td>
        <td><%= link_to 'Destroy', recipe, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-sm btn-danger' %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Recipe', new_recipe_path, class: 'btn btn-xl btn-success' %>
